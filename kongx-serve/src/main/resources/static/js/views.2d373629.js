(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views"],{3086:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("avue-tabs",{attrs:{option:e.option,data:e.data,page:e.page},on:{change:e.handleChange,submit:e.handleSubmit,"selection-change":e.selectionChange},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"before"},[n("el-button",{attrs:{size:"small"},on:{click:e.handleDel}},[e._v("全部已读")]),n("el-button",{attrs:{size:"small"},on:{click:e.handleDel}},[e._v("标记已读")]),n("el-button",{attrs:{size:"small"},on:{click:e.handleDel}},[e._v("删除")])],1)],2)],1)],1)},s=[],o={column:[{label:"全部信息",prop:"all",type:"crud",option:{selection:!0,addBtn:!1,menu:!1,header:!1,column:[{width:500,label:"标题内容",prop:"title"},{label:"时间",prop:"date"}]}},{label:"通知",prop:"msg",type:"crud",option:{selection:!0,addBtn:!1,menu:!1,header:!1,column:[{width:500,label:"标题内容",prop:"title"},{label:"时间",prop:"date"}]}},{label:"私信",prop:"one",type:"crud",option:{selection:!0,addBtn:!1,menu:!1,header:!1,column:[{width:500,label:"标题内容",prop:"title"},{label:"时间",prop:"date"}]}}]},r=n("c54a"),i={data:function(){return{form:{},type:"message",option:o,checkList:[],page:{currentPage:1,total:100,pageSize:10},data:[]}},created:function(){this.handleWitch()},methods:{handleSubmit:function(){this.$message({message:this.form,type:"success"})},handleWitch:function(){"all"===this.type?this.data=[{title:"你好新朋友，感谢使用 avue-cli",date:"2018-11-23"},{title:"smallwei发来一条私信",date:"2018-11-23"}]:"msg"===this.type&&(this.data=[{title:"smallwei发来一条私信",date:"2018-11-23"},{title:"smallwei发来一条私信",date:"2018-11-23"}])},selectionChange:function(e){this.checkList=e},handleDel:function(){Object(r["c"])(this.checkList)?this.$message.warning("请选择至少一条数据"):this.$message.success("操作成功")},handleChange:function(e){this.type=e.prop,this.handleWitch()}}},l=i,c=n("2877"),u=Object(c["a"])(l,a,s,!1,null,null,null);t["default"]=u.exports},"696f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.kongClient&&-1!=e.kongClient.id?n("in-home"):n("client-info")],1)},s=[],o=n("cebc"),r=(n("af62"),n("5880")),i={name:"wel",components:{InHome:function(){return n.e("chunk-05d1190a").then(n.bind(null,"405d"))},clientInfo:function(){return Promise.resolve().then(n.bind(null,"442f"))}},data:function(){return{}},computed:Object(o["a"])({},Object(r["mapGetters"])(["userInfo","kongClient"])),created:function(){this.findActiveKongclient()},methods:{findActiveKongclient:function(){this.$store.dispatch("FindActiveClient",this.userInfo).then(function(e){})}}},l=i,c=n("2877"),u=Object(c["a"])(l,a,s,!1,null,null,null);t["default"]=u.exports},e17e:function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"f",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var a=n("b5c6"),s=n("074d"),o=function(e){return Object(a["a"])({url:s["a"].path+"/system/user",method:"post",data:e})},r=function(e){return Object(a["a"])({url:s["a"].path+"/system/user/"+e.userId,method:"post",data:e})},i=function(e){return Object(a["a"])({url:s["a"].path+"/system/user/reset/"+e+"/",method:"post"})},l=function(e){return Object(a["a"])({url:s["a"].path+"/system/user/modifypwd/",method:"post",data:e})},c=function(e){return Object(a["a"])({url:s["a"].path+"/system/user/updateUserRole",method:"post",data:e})},u=function(e){return Object(a["a"])({url:s["a"].path+"/system/user/page",method:"get",params:e})},d=function(e){return Object(a["a"])({url:s["a"].path+"/system/user/list",method:"get",params:e})}},e37e:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("avue-tabs",{attrs:{option:e.option},on:{change:e.handleChange,submit:e.handleSubmit},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},s=[],o=n("cebc"),r={column:[{label:"个人信息",prop:"info",option:{submitText:"修改",column:[{label:"用户名",span:12,disabled:!0,row:!0,prop:"userId"},{label:"姓名",row:!0,prop:"name"},{label:"手机号",span:12,row:!0,prop:"mobile"},{label:"邮箱",prop:"email",row:!0}]}},{label:"修改密码",prop:"password",option:{submitText:"修改",column:[{label:"原密码",span:12,row:!0,type:"password",prop:"oldpassword"},{label:"新密码",span:12,row:!0,type:"password",prop:"newpassword"},{label:"确认密码",span:12,row:!0,type:"password",prop:"newpasswords"}]}}]},i=n("5880"),l=n("e17e"),c=n("0e0b"),u={data:function(){return{type:"info",option:r,form:{}}},created:function(){this.handleWitch()},computed:Object(o["a"])({},Object(i["mapGetters"])(["permission","userInfo"])),methods:{handleSubmit:function(){"info"==this.type&&this.handleEntityUpdate(),"password"==this.type&&this.handlerModifyPwd()},handlerModifyPwd:function(){var e=this,t=Object(c["c"])({data:this.form,type:"Base64",key:"avue",param:["oldpassword","newpassword"]});Object(l["c"])({userId:this.userInfo.userId,oldpassword:t.oldpassword,newpassword:t.newpassword}).then(function(t){var n=t.data;0!=n.status?e.$message.error(n.errmsg):(e.$message.success("修改成功，退出后重新登录"),e.$store.dispatch("LogOut").then(function(){e.$router.push({path:"/login"})}))})},handleEntityUpdate:function(){var e=this;Object(l["f"])(this.form).then(function(t){var n=t.data;0!=n.status?e.$message.error(n.errmsg):(e.$store.dispatch("GetUserInfo").then(function(){}),e.$message.success("修改成功"))}).catch(function(t){e.$message.error("更新失败")})},handleWitch:function(){"info"===this.type?this.form=_.cloneDeep(this.userInfo):"password"===this.type&&(this.form=_.cloneDeep({}))},handleChange:function(e){this.type=e.prop,this.handleWitch()}}},d=u,p=n("2877"),h=Object(p["a"])(d,a,s,!1,null,null,null);t["default"]=h.exports}}]);